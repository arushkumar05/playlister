(function(e){function t(t){for(var r,u,l=t[0],i=t[1],o=t[2],b=0,p=[];b<l.length;b++)u=l[b],Object.prototype.hasOwnProperty.call(c,u)&&c[u]&&p.push(c[u][0]),c[u]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);s&&s(t);while(p.length)p.shift()();return a.push.apply(a,o||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,l=1;l<n.length;l++){var i=n[l];0!==c[i]&&(r=!1)}r&&(a.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},c={app:0},a=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var s=i;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"067f":function(e,t,n){},"3ef4":function(e,t,n){},4113:function(e,t,n){"use strict";n("067f")},"49c6":function(e,t,n){"use strict";n("3ef4")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c={class:"content"};function a(e,t,n,a,u,l){var i=Object(r["y"])("Navbar"),o=Object(r["y"])("router-view");return Object(r["r"])(),Object(r["f"])(r["a"],null,[Object(r["i"])(i),Object(r["g"])("div",c,[Object(r["i"])(o)])],64)}var u=n("d34b"),l=n.n(u),i=function(e){return Object(r["u"])("data-v-4ce435d1"),e=e(),Object(r["s"])(),e},o={class:"navbar"},s=i((function(){return Object(r["g"])("img",{src:l.a},null,-1)})),b=Object(r["h"])("Playlist-er"),p={class:"links"},d={key:0},j=Object(r["h"])("Create Playlist"),O=Object(r["h"])("My Playlists"),f={key:1},v=Object(r["h"])("Signup"),g=Object(r["h"])("Login");function h(e,t,n,c,a,u){var l=Object(r["y"])("router-link");return Object(r["r"])(),Object(r["f"])("div",o,[Object(r["g"])("nav",null,[s,Object(r["g"])("h1",null,[Object(r["i"])(l,{to:{name:"Home"}},{default:Object(r["F"])((function(){return[b]})),_:1})]),Object(r["g"])("div",p,[c.user?(Object(r["r"])(),Object(r["f"])("div",d,[Object(r["i"])(l,{to:{name:"CreatePlaylist"}},{default:Object(r["F"])((function(){return[j]})),_:1}),Object(r["i"])(l,{to:{name:"UserPlaylists"}},{default:Object(r["F"])((function(){return[O]})),_:1}),Object(r["g"])("span",null," Hi there, "+Object(r["A"])(c.user.displayName),1),Object(r["g"])("button",{onClick:t[0]||(t[0]=function(){return c.handleClick&&c.handleClick.apply(c,arguments)})},"Logout")])):(Object(r["r"])(),Object(r["f"])("div",f,[Object(r["i"])(l,{class:"btn",to:{name:"Signup"}},{default:Object(r["F"])((function(){return[v]})),_:1}),Object(r["i"])(l,{class:"btn",to:{name:"Login"}},{default:Object(r["F"])((function(){return[g]})),_:1})]))])])])}var m=n("c7eb"),y=n("1da1"),w=n("4f60"),k=(n("1862"),n("256a"),n("24ee"),{apiKey:"AIzaSyCtCXJE8lLXAYmdyQG0nHHnDBvV3Tc87EM",authDomain:"playlist-er.firebaseapp.com",projectId:"playlist-er",storageBucket:"playlist-er.appspot.com",messagingSenderId:"222081472242",appId:"1:222081472242:web:ca7342747626c487ae626b"});w["a"].initializeApp(k);var x=w["a"].firestore(),P=w["a"].auth(),C=w["a"].storage(),S=w["a"].firestore.FieldValue.serverTimestamp,A=Object(r["w"])(null),U=Object(r["w"])(!1),_=function(){var e=Object(y["a"])(Object(m["a"])().mark((function e(){return Object(m["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return A.value=null,U.value=!0,e.prev=2,e.next=5,P.signOut();case 5:U.value=!1,e.next=13;break;case 8:e.prev=8,e.t0=e["catch"](2),console.log(e.t0.message),A.value=e.t0.message,U.value=!1;case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),D=function(){return{error:A,logout:_,isPending:U}},I=D,E=Object(r["w"])(P.currentUser);P.onAuthStateChanged((function(e){console.log("User state change. Current user is:",e),E.value=e}));var L=function(){return{user:E}},N=L,V=n("6c02"),F={setup:function(){var e=I(),t=e.logout,n=Object(V["c"])(),r=N(),c=r.user,a=function(){var e=Object(y["a"])(Object(m["a"])().mark((function e(){return Object(m["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:console.log("User logged out"),n.push({name:"Login"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{handleClick:a,user:c}}},H=(n("918e"),n("6b0d")),G=n.n(H);const M=G()(F,[["render",h],["__scopeId","data-v-4ce435d1"]]);var T=M,q={components:{Navbar:T}};n("f6ab");const B=G()(q,[["render",a]]);var J=B,z={class:"home"},W={key:0,class:"error"},X={key:1};function K(e,t,n,c,a,u){var l=Object(r["y"])("ListView");return Object(r["r"])(),Object(r["f"])("div",z,[c.error?(Object(r["r"])(),Object(r["f"])("div",W,"Could not fetch the data")):Object(r["e"])("",!0),c.documents?(Object(r["r"])(),Object(r["f"])("div",X,[Object(r["i"])(l,{playlists:c.documents},null,8,["playlists"])])):Object(r["e"])("",!0)])}var Q=n("5530"),R=n("2909"),Y=(n("d3b7"),n("159b"),function(e,t){var n,c=Object(r["w"])(null),a=Object(r["w"])(null),u=x.collection(e).orderBy("createdAt");t&&(u=(n=u).where.apply(n,Object(R["a"])(t)));var l=u.onSnapshot((function(e){var t=[];e.docs.forEach((function(e){e.data().createdAt&&t.push(Object(Q["a"])(Object(Q["a"])({},e.data()),{},{id:e.id}))})),c.value=t,a.value=null}),(function(e){console.log(e.message),c.value=null,a.value="could not fetch the data"}));return Object(r["E"])((function(e){e((function(){return l()}))})),{error:a,documents:c}}),Z=Y,$={class:"single"},ee={class:"thumbnail"},te=["src"],ne={class:"info"},re={class:"song-number"};function ce(e,t,n,c,a,u){var l=Object(r["y"])("router-link");return Object(r["r"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(n.playlists,(function(e){return Object(r["r"])(),Object(r["f"])("div",{key:e.id},[Object(r["i"])(l,{to:{name:"PlaylistDetails",params:{id:e.id}}},{default:Object(r["F"])((function(){return[Object(r["g"])("div",$,[Object(r["g"])("div",ee,[Object(r["g"])("img",{src:e.coverUrl},null,8,te)]),Object(r["g"])("div",ne,[Object(r["g"])("h3",null,Object(r["A"])(e.title),1),Object(r["g"])("p",null,"created by "+Object(r["A"])(e.userName),1)]),Object(r["g"])("div",re,[Object(r["g"])("p",null,Object(r["A"])(e.songs.length),1)])])]})),_:2},1032,["to"])])})),128)}var ae={props:["playlists"]};n("ee5d");const ue=G()(ae,[["render",ce],["__scopeId","data-v-59ca4c00"]]);var le=ue,ie={name:"Home",components:{ListView:le},setup:function(){var e=Z("playlists"),t=e.error,n=e.documents;return{error:t,documents:n}}};const oe=G()(ie,[["render",K]]);var se=oe,be=Object(r["g"])("h3",null,"Login",-1),pe={key:0,class:"error"},de={key:1},je={key:2,disabled:""};function Oe(e,t,n,c,a,u){return Object(r["r"])(),Object(r["f"])("form",{onSubmit:t[2]||(t[2]=Object(r["H"])((function(){return c.handleSubmit&&c.handleSubmit.apply(c,arguments)}),["prevent"]))},[be,Object(r["G"])(Object(r["g"])("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.email=e})},null,512),[[r["C"],c.email]]),Object(r["G"])(Object(r["g"])("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.password=e})},null,512),[[r["C"],c.password]]),c.error?(Object(r["r"])(),Object(r["f"])("div",pe,Object(r["A"])(c.error),1)):Object(r["e"])("",!0),c.isPending?Object(r["e"])("",!0):(Object(r["r"])(),Object(r["f"])("button",de,"Log in")),c.isPending?(Object(r["r"])(),Object(r["f"])("button",je,"Loading")):Object(r["e"])("",!0)],32)}var fe=Object(r["w"])(null),ve=Object(r["w"])(!1),ge=function(){var e=Object(y["a"])(Object(m["a"])().mark((function e(t,n){var r;return Object(m["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return fe.value=null,ve.value=!0,e.prev=2,e.next=5,P.signInWithEmailAndPassword(t,n);case 5:return r=e.sent,fe.value=null,ve.value=!1,e.abrupt("return",r);case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0.message),fe.value="Incorrect login credentials",ve.value=!1;case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){return{error:fe,login:ge,isPending:ve}},me=he,ye=n("a1e9"),we={setup:function(){var e=me(),t=e.error,n=e.login,r=e.isPending,c=Object(V["c"])(),a=Object(ye["m"])(""),u=Object(ye["m"])(""),l=function(){var e=Object(y["a"])(Object(m["a"])().mark((function e(){return Object(m["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n(a.value,u.value);case 2:e.sent,t.value||(console.log("user logged in"),c.push({name:"UserPlaylists"}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{email:a,password:u,handleSubmit:l,error:t,isPending:r}}};const ke=G()(we,[["render",Oe]]);var xe=ke,Pe=Object(r["g"])("h3",null,"Signup",-1),Ce={key:0,class:"error"},Se={key:1},Ae={key:2,disabled:""};function Ue(e,t,n,c,a,u){return Object(r["r"])(),Object(r["f"])("form",{onSubmit:t[3]||(t[3]=Object(r["H"])((function(){return c.handleSubmit&&c.handleSubmit.apply(c,arguments)}),["prevent"]))},[Pe,Object(r["G"])(Object(r["g"])("input",{type:"text",placeholder:"Display name","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.displayName=e})},null,512),[[r["C"],c.displayName]]),Object(r["G"])(Object(r["g"])("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.email=e})},null,512),[[r["C"],c.email]]),Object(r["G"])(Object(r["g"])("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.password=e})},null,512),[[r["C"],c.password]]),c.error?(Object(r["r"])(),Object(r["f"])("div",Ce,Object(r["A"])(c.error),1)):Object(r["e"])("",!0),c.isPending?Object(r["e"])("",!0):(Object(r["r"])(),Object(r["f"])("button",Se,"Sign up")),c.isPending?(Object(r["r"])(),Object(r["f"])("button",Ae,"Loading")):Object(r["e"])("",!0)],32)}n("d9e2");var _e=Object(r["w"])(null),De=Object(r["w"])(!1),Ie=function(){var e=Object(y["a"])(Object(m["a"])().mark((function e(t,n,r){var c;return Object(m["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return _e.value=null,De.value=!0,e.prev=2,e.next=5,P.createUserWithEmailAndPassword(t,n);case 5:if(c=e.sent,c){e.next=8;break}throw new Error("Could not complete signup");case 8:return e.next=10,c.user.updateProfile({displayName:r});case 10:return _e.value=null,De.value=!1,e.abrupt("return",c);case 15:e.prev=15,e.t0=e["catch"](2),console.log(e.t0.message),_e.value=e.t0.message,De.value=!1;case 20:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Ee=function(){return{error:_e,signup:Ie,isPending:De}},Le=Ee,Ne={setup:function(){var e=Le(),t=e.error,n=e.signup,r=e.isPending,c=Object(V["c"])(),a=Object(ye["m"])(""),u=Object(ye["m"])(""),l=Object(ye["m"])(""),i=function(){var e=Object(y["a"])(Object(m["a"])().mark((function e(){return Object(m["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n(a.value,u.value,l.value);case 2:e.sent,t.value||(console.log("user signed up"),c.push({name:"UserPlaylists"}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{email:a,password:u,handleSubmit:i,error:t,isPending:r,displayName:l}}};const Ve=G()(Ne,[["render",Ue]]);var Fe=Ve,He=(n("a4d3"),n("e01a"),Object(r["g"])("h4",null,"Create a New Playlist",-1)),Ge=Object(r["g"])("label",null,"Upload Playlist Cover Image",-1),Me={class:"error"},Te={key:0},qe={key:1,disabled:""};function Be(e,t,n,c,a,u){return Object(r["r"])(),Object(r["f"])("div",null,[Object(r["g"])("form",{onSubmit:t[3]||(t[3]=Object(r["H"])((function(){return c.handleSubmit&&c.handleSubmit.apply(c,arguments)}),["prevent"]))},[He,Object(r["G"])(Object(r["g"])("input",{type:"text",required:"",placeholder:"Playlist title","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.title=e})},null,512),[[r["C"],c.title]]),Object(r["G"])(Object(r["g"])("textarea",{required:"",placeholder:"Playlist description...","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.description=e})},null,512),[[r["C"],c.description]]),Ge,Object(r["g"])("input",{type:"file",onChange:t[2]||(t[2]=function(){return c.handleChange&&c.handleChange.apply(c,arguments)})},null,32),Object(r["g"])("div",Me,Object(r["A"])(c.fileError),1),c.isPending?(Object(r["r"])(),Object(r["f"])("button",qe,"Saving...")):(Object(r["r"])(),Object(r["f"])("button",Te,"Create"))],32)])}n("caad"),n("99af"),n("b0c0");var Je=N(),ze=Je.user,We=function(){var e=Object(r["w"])(null),t=Object(r["w"])(null),n=Object(r["w"])(null),c=function(){var r=Object(y["a"])(Object(m["a"])().mark((function r(c){var a,u;return Object(m["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.value="covers/".concat(ze.value.uid,"/").concat(c.name),a=C.ref(n.value),r.prev=2,r.next=5,a.put(c);case 5:return u=r.sent,r.next=8,u.ref.getDownloadURL();case 8:t.value=r.sent,r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](2),console.log(r.t0.message),e.value=r.t0.message;case 15:case"end":return r.stop()}}),r,null,[[2,11]])})));return function(e){return r.apply(this,arguments)}}(),a=function(){var t=Object(y["a"])(Object(m["a"])().mark((function t(n){var r;return Object(m["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=C.ref(n),t.prev=1,t.next=4,r.delete();case 4:t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](1),console.log(t.t0.message),e.value=t.t0;case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}();return{url:t,error:e,filePath:n,uploadImage:c,deleteImage:a}},Xe=We,Ke=function(e){var t=Object(r["w"])(null),n=Object(r["w"])(!1),c=function(){var r=Object(y["a"])(Object(m["a"])().mark((function r(c){var a;return Object(m["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.value=null,n.value=!0,r.prev=2,r.next=5,x.collection(e).add(c);case 5:return a=r.sent,n.value=!1,r.abrupt("return",a);case 10:r.prev=10,r.t0=r["catch"](2),console.log(r.t0.message),t.value="could not send the message",n.value=!1;case 15:case"end":return r.stop()}}),r,null,[[2,10]])})));return function(e){return r.apply(this,arguments)}}();return{error:t,addDoc:c,isPending:n}},Qe=Ke,Re={setup:function(){var e=Xe(),t=e.filePath,n=e.url,c=e.uploadImage,a=Qe("playlists"),u=a.error,l=a.addDoc,i=N(),o=i.user,s=Object(V["c"])(),b=Object(r["w"])(""),p=Object(r["w"])(""),d=Object(r["w"])(null),j=Object(r["w"])(null),O=Object(r["w"])(!1),f=function(){var e=Object(y["a"])(Object(m["a"])().mark((function e(){var r;return Object(m["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!d.value){e.next=9;break}return O.value=!0,e.next=4,c(d.value);case 4:return e.next=6,l({title:b.value,description:p.value,userId:o.value.uid,userName:o.value.displayName,coverUrl:n.value,filePath:t.value,songs:[],createdAt:S()});case 6:r=e.sent,O.value=!1,u.value||s.push({name:"PlaylistDetails",params:{id:r.id}});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=["image/png","image/jpeg"],g=function(e){var t=e.target.files[0];console.log(t),t&&v.includes(t.type)?(d.value=t,j.value=null):(d.value=null,j.value="Please select an image file (png or jpg)")};return{title:b,description:p,handleSubmit:f,fileError:j,handleChange:g,isPending:O}}};n("4113");const Ye=G()(Re,[["render",Be]]);var Ze=Ye,$e={key:0,class:"error"},et={key:1,class:"playlist-details"},tt={class:"playlist-info"},nt={class:"cover"},rt=["src"],ct={class:"username"},at={class:"description"},ut={class:"song-list"},lt={key:0},it={class:"details"},ot=["onClick"];function st(e,t,n,c,a,u){var l=Object(r["y"])("AddSong");return Object(r["r"])(),Object(r["f"])(r["a"],null,[c.error?(Object(r["r"])(),Object(r["f"])("div",$e,Object(r["A"])(c.error),1)):Object(r["e"])("",!0),c.playlist?(Object(r["r"])(),Object(r["f"])("div",et,[Object(r["g"])("div",tt,[Object(r["g"])("div",nt,[Object(r["g"])("img",{src:c.playlist.coverUrl},null,8,rt)]),Object(r["g"])("h2",null,Object(r["A"])(c.playlist.title),1),Object(r["g"])("p",ct,"Created by "+Object(r["A"])(c.playlist.userName),1),Object(r["g"])("p",at,Object(r["A"])(c.playlist.description),1),c.ownership?(Object(r["r"])(),Object(r["f"])("button",{key:0,onClick:t[0]||(t[0]=function(){return c.handleDelete&&c.handleDelete.apply(c,arguments)})},"Delete Playlist")):Object(r["e"])("",!0)]),Object(r["g"])("div",ut,[c.playlist.songs.length?Object(r["e"])("",!0):(Object(r["r"])(),Object(r["f"])("div",lt,"No songs have been added to this playlist yet")),(Object(r["r"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(c.playlist.songs,(function(e){return Object(r["r"])(),Object(r["f"])("div",{key:e.id,class:"single-song"},[Object(r["g"])("div",it,[Object(r["g"])("h3",null,Object(r["A"])(e.title),1),Object(r["g"])("p",null,Object(r["A"])(e.artist),1)]),c.ownership?(Object(r["r"])(),Object(r["f"])("button",{key:0,onClick:function(t){return c.handleClick(e.id)}},"delete",8,ot)):Object(r["e"])("",!0)])})),128)),c.ownership?(Object(r["r"])(),Object(r["d"])(l,{key:1,playlist:c.playlist},null,8,["playlist"])):Object(r["e"])("",!0)])])):Object(r["e"])("",!0)],64)}n("4de4");var bt=function(e){return Object(r["u"])("data-v-b8c830d6"),e=e(),Object(r["s"])(),e},pt={class:"add-song"},dt=bt((function(){return Object(r["g"])("h4",null,"Add a New Song",-1)})),jt=bt((function(){return Object(r["g"])("button",null,"Add",-1)}));function Ot(e,t,n,c,a,u){return Object(r["r"])(),Object(r["f"])("div",pt,[c.showForm?Object(r["e"])("",!0):(Object(r["r"])(),Object(r["f"])("button",{key:0,onClick:t[0]||(t[0]=function(e){return c.showForm=!0})},"Add Songs")),c.showForm?(Object(r["r"])(),Object(r["f"])("form",{key:1,onSubmit:t[3]||(t[3]=Object(r["H"])((function(){return c.handleSubmit&&c.handleSubmit.apply(c,arguments)}),["prevent"]))},[dt,Object(r["G"])(Object(r["g"])("input",{type:"text",placeholder:"Song title",required:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.title=e})},null,512),[[r["C"],c.title]]),Object(r["G"])(Object(r["g"])("input",{type:"text",placeholder:"Artist",required:"","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.artist=e})},null,512),[[r["C"],c.artist]]),jt],32)):Object(r["e"])("",!0)])}var ft=function(e,t){var n=Object(r["w"])(null),c=Object(r["w"])(!1),a=x.collection(e).doc(t),u=function(){var e=Object(y["a"])(Object(m["a"])().mark((function e(){var t;return Object(m["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c.value=!0,n.value=null,e.prev=2,e.next=5,a.delete();case 5:return t=e.sent,c.value=!1,e.abrupt("return",t);case 10:e.prev=10,e.t0=e["catch"](2),console.log(e.t0.message),c.value=!1,n.value="The document could not be deleted";case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(y["a"])(Object(m["a"])().mark((function e(t){var r;return Object(m["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c.value=!0,n.value=null,e.prev=2,e.next=5,a.update(t);case 5:return r=e.sent,c.value=!1,e.abrupt("return",r);case 10:e.prev=10,e.t0=e["catch"](2),console.log(e.t0.message),c.value=!1,n.value="The document could not be updated";case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return{error:n,isPending:c,deleteDoc:u,updateDoc:l}},vt=ft,gt={props:["playlist"],setup:function(e){var t=Object(ye["m"])(""),n=Object(ye["m"])(""),r=Object(ye["m"])(!1),c=vt("playlists",e.playlist.id),a=c.updateDoc,u=function(){var r=Object(y["a"])(Object(m["a"])().mark((function r(){var c;return Object(m["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return c={title:t.value,artist:n.value,id:Math.floor(1e6*Math.random())},r.next=3,a({songs:[].concat(Object(R["a"])(e.playlist.songs),[c])});case 3:t.value="",n.value="";case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return{title:t,artist:n,showForm:r,handleSubmit:u}}};n("6d72");const ht=G()(gt,[["render",Ot],["__scopeId","data-v-b8c830d6"]]);var mt=ht,yt=function(e,t){var n=Object(r["w"])(null),c=Object(r["w"])(null),a=x.collection(e).doc(t),u=a.onSnapshot((function(e){e.data()?(n.value=Object(Q["a"])(Object(Q["a"])({},e.data()),{},{id:e.id}),c.value=null):c.value="That document does not exist"}),(function(e){console.log(e.message),c.value="could not fetch the document"}));return Object(r["E"])((function(e){e((function(){return u()}))})),{error:c,document:n}},wt=yt,kt=n("5c40"),xt={props:["id"],components:{AddSong:mt},setup:function(e){var t=wt("playlists",e.id),n=t.error,r=t.document,c=N(),a=c.user,u=vt("playlists",e.id),l=u.deleteDoc,i=u.updateDoc,o=Xe(),s=o.deleteImage,b=Object(V["c"])(),p=Object(kt["e"])((function(){return r.value&&a.value&&a.value.uid==r.value.userId})),d=function(){var e=Object(y["a"])(Object(m["a"])().mark((function e(){return Object(m["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s(r.value.filePath);case 2:return e.next=4,l();case 4:b.push({name:"Home"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(y["a"])(Object(m["a"])().mark((function e(t){var n;return Object(m["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.value.songs.filter((function(e){return e.id!=t})),e.next=3,i({songs:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{error:n,playlist:r,ownership:p,handleDelete:d,handleClick:j}}};n("7614");const Pt=G()(xt,[["render",st]]);var Ct=Pt,St=function(e){return Object(r["u"])("data-v-7898a077"),e=e(),Object(r["s"])(),e},At={class:"user-playlists"},Ut=St((function(){return Object(r["g"])("h2",null,"My Playlists",-1)})),_t={key:0},Dt=Object(r["h"])("Create a New Playlist");function It(e,t,n,c,a,u){var l=Object(r["y"])("ListView"),i=Object(r["y"])("router-link");return Object(r["r"])(),Object(r["f"])("div",At,[Ut,c.playlists?(Object(r["r"])(),Object(r["f"])("div",_t,[Object(r["i"])(l,{playlists:c.playlists},null,8,["playlists"])])):Object(r["e"])("",!0),Object(r["i"])(i,{to:{name:"CreatePlaylist"},class:"btn"},{default:Object(r["F"])((function(){return[Dt]})),_:1})])}var Et={components:{ListView:le},setup:function(){var e=N(),t=e.user,n=Z("playlists",["userId","==",t.value.uid]),r=n.documents;return console.log(r),{playlists:r}}};n("49c6");const Lt=G()(Et,[["render",It],["__scopeId","data-v-7898a077"]]);var Nt,Vt=Lt,Ft=function(e,t,n){var r=P.currentUser;r?n():n({name:"Login"})},Ht=[{path:"/",name:"Home",component:se,beforeEnter:Ft},{path:"/login",name:"Login",component:xe},{path:"/signup",name:"Signup",component:Fe},{path:"/playlists/create",name:"CreatePlaylist",component:Ze,beforeEnter:Ft},{path:"/playlists/:id",name:"PlaylistDetails",component:Ct,beforeEnter:Ft,props:!0},{path:"/playlists/user",name:"UserPlaylists",component:Vt,beforeEnter:Ft}],Gt=Object(V["a"])({history:Object(V["b"])("/"),routes:Ht}),Mt=Gt;n("845f");P.onAuthStateChanged((function(){Nt||(Nt=Object(r["c"])(J).use(Mt).mount("#app"))}))},"6d72":function(e,t,n){"use strict";n("d847")},7614:function(e,t,n){"use strict";n("eedf")},"845f":function(e,t,n){},"86d7":function(e,t,n){},"918e":function(e,t,n){"use strict";n("86d7")},c5b0:function(e,t,n){},d34b:function(e,t,n){e.exports=n.p+"img/Playlist-er.008c9951.png"},d847:function(e,t,n){},ee5d:function(e,t,n){"use strict";n("efee")},eedf:function(e,t,n){},efee:function(e,t,n){},f6ab:function(e,t,n){"use strict";n("c5b0")}});
//# sourceMappingURL=app.4fb086ba.js.map